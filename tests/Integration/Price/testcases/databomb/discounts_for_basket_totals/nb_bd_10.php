<?php

$aData = [
  'user' =>
  [
    'oxactive' => 1,
    'oxusername' => 'nb_bd_databomb_user_10',
  ],
  'articles' =>
  [
    0 =>
    [
      'oxid' => '294f2f00cd665962d73cf3bce5b25',
      'oxprice' => 435.16,
      'oxvat' => 7,
      'amount' => 659,
    ],
    1 =>
    [
      'oxid' => '63206b470a2733bb5a1fa2b0cb53e',
      'oxprice' => 300.81,
      'oxvat' => 7,
      'amount' => 462,
    ],
    2 =>
    [
      'oxid' => 'f78f7cb12210bf29d4aa002df78a8',
      'oxprice' => 418.72,
      'oxvat' => 7,
      'amount' => 163,
    ],
    3 =>
    [
      'oxid' => 'f3c21bc685f6894ebd8149def3817',
      'oxprice' => 736.56,
      'oxvat' => 7,
      'amount' => 692,
    ],
    4 =>
    [
      'oxid' => '95f5fa1b2929d13b732fee02f88ef',
      'oxprice' => 192.15,
      'oxvat' => 2,
      'amount' => 323,
    ],
    5 =>
    [
      'oxid' => '05a5f716ffb59701014fb11333e7b',
      'oxprice' => 720.48,
      'oxvat' => 2,
      'amount' => 164,
    ],
    6 =>
    [
      'oxid' => 'ecd87070f383d8c527018c12f13dd',
      'oxprice' => 213.88,
      'oxvat' => 2,
      'amount' => 668,
    ],
    7 =>
    [
      'oxid' => '9cdbd10fa91a977bb4737c226a9bd',
      'oxprice' => 416.68,
      'oxvat' => 2,
      'amount' => 797,
    ],
    8 =>
    [
      'oxid' => '0c318ed3a72087f5fdc69068dc01b',
      'oxprice' => 929.2,
      'oxvat' => 14,
      'amount' => 652,
    ],
    9 =>
    [
      'oxid' => '22b9a71955b31e81b35bb356c4961',
      'oxprice' => 960,
      'oxvat' => 7,
      'amount' => 975,
    ],
    10 =>
    [
      'oxid' => '5793fed6a99b60fa0e973757fd488',
      'oxprice' => 977.01,
      'oxvat' => 2,
      'amount' => 88,
    ],
  ],
  'discounts' =>
  [
    0 =>
    [
      'oxaddsum' => 10,
      'oxid' => 'bombDiscount_0',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    1 =>
    [
      'oxaddsum' => 11,
      'oxid' => 'bombDiscount_1',
      'oxaddsumtype' => 'abs',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    2 =>
    [
      'oxaddsum' => 14,
      'oxid' => 'bombDiscount_2',
      'oxaddsumtype' => 'abs',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    3 =>
    [
      'oxaddsum' => 9,
      'oxid' => 'bombDiscount_3',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    4 =>
    [
      'oxaddsum' => 4,
      'oxid' => 'bombDiscount_4',
      'oxaddsumtype' => 'abs',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
  ],
  'costs' =>
  [
    'wrapping' =>
    [
      0 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 11,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '294f2f00cd665962d73cf3bce5b25',
          1 => '63206b470a2733bb5a1fa2b0cb53e',
          2 => 'f78f7cb12210bf29d4aa002df78a8',
        ],
      ],
      1 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 77,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '294f2f00cd665962d73cf3bce5b25',
          1 => '63206b470a2733bb5a1fa2b0cb53e',
          2 => 'f78f7cb12210bf29d4aa002df78a8',
        ],
      ],
      2 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 98,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '294f2f00cd665962d73cf3bce5b25',
          1 => '63206b470a2733bb5a1fa2b0cb53e',
          2 => 'f78f7cb12210bf29d4aa002df78a8',
          3 => 'f3c21bc685f6894ebd8149def3817',
          4 => '95f5fa1b2929d13b732fee02f88ef',
        ],
      ],
    ],
    'payment' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 33,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      1 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 17,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      2 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 11,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
    ],
    'delivery' =>
    [
      0 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 18,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      1 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 3,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 18,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
    ],
  ],
  'options' =>
  [
    'config' =>
    [
      'blEnterNetPrice' => true,
      'blShowNetPrice' => false,
    ],
    'activeCurrencyRate' => 1,
  ],
  'expected' =>
  [
    'articles' =>
    [
      '294f2f00cd665962d73cf3bce5b25' =>
      [
        0 => '465,62',
        1 => '306.843,58',
      ],
      '63206b470a2733bb5a1fa2b0cb53e' =>
      [
        0 => '321,87',
        1 => '148.703,94',
      ],
      'f78f7cb12210bf29d4aa002df78a8' =>
      [
        0 => '448,03',
        1 => '73.028,89',
      ],
      'f3c21bc685f6894ebd8149def3817' =>
      [
        0 => '788,12',
        1 => '545.379,04',
      ],
      '95f5fa1b2929d13b732fee02f88ef' =>
      [
        0 => '195,99',
        1 => '63.304,77',
      ],
      '05a5f716ffb59701014fb11333e7b' =>
      [
        0 => '734,89',
        1 => '120.521,96',
      ],
      'ecd87070f383d8c527018c12f13dd' =>
      [
        0 => '218,16',
        1 => '145.730,88',
      ],
      '9cdbd10fa91a977bb4737c226a9bd' =>
      [
        0 => '425,01',
        1 => '338.732,97',
      ],
      '0c318ed3a72087f5fdc69068dc01b' =>
      [
        0 => '1.059,29',
        1 => '690.657,08',
      ],
      '22b9a71955b31e81b35bb356c4961' =>
      [
        0 => '1.027,20',
        1 => '1.001.520,00',
      ],
      '5793fed6a99b60fa0e973757fd488' =>
      [
        0 => '996,55',
        1 => '87.696,40',
      ],
    ],
    'totals' =>
    [
      'discounts' =>
      [
        'bombDiscount_0' => '352.211,95',
        'bombDiscount_1' => '11,00',
        'bombDiscount_2' => '14,00',
        'bombDiscount_3' => '285.289,43',
        'bombDiscount_4' => '4,00',
      ],
      'vats' =>
      [
        7 => '111.201,78',
        2 => '12.140,15',
        14 => '69.464,92',
      ],
      'wrapping' =>
      [
        'brutto' => '225.302,00',
        'netto' => false,
        'vat' => false,
      ],
      'delivery' =>
      [
        'brutto' => '739.663,10',
        'netto' => '691.273,93',
        'vat' => '48.389,17',
      ],
      'payment' =>
      [
        'brutto' => '1.196.003,24',
        'netto' => '1.117.760,04',
        'vat' => '78.243,20',
      ],
      'voucher' =>
      [
        'brutto' => '0,00',
      ],
      'totalNetto' => '2.691.782,28',
      'totalBrutto' => '3.522.119,51',
      'grandTotal' => '5.045.557,47',
    ],
  ],
];
