<?php

$aData = [
  'user' =>
  [
    'oxactive' => 1,
    'oxusername' => 'databomb_user_5',
  ],
  'articles' =>
  [
    0 =>
    [
      'oxid' => 'baaa3a3210ac09baec4896722c270',
      'oxprice' => 283.34,
      'oxvat' => 8,
      'amount' => 42,
    ],
    1 =>
    [
      'oxid' => '7d9f4c226704162740924e4a36d80',
      'oxprice' => 422.44,
      'oxvat' => 7,
      'amount' => 603,
    ],
    2 =>
    [
      'oxid' => '8c8d3f5245bdab8baab1953a532e7',
      'oxprice' => 405.46,
      'oxvat' => 9,
      'amount' => 528,
    ],
    3 =>
    [
      'oxid' => 'b59f8ee6790b7a44fd0acf7efc57f',
      'oxprice' => 670.36,
      'oxvat' => 7,
      'amount' => 587,
    ],
    4 =>
    [
      'oxid' => 'afa0f60b6ab910eca3d95b6999c1d',
      'oxprice' => 284.06,
      'oxvat' => 9,
      'amount' => 851,
    ],
    5 =>
    [
      'oxid' => 'da844188611d0718624b491138a5b',
      'oxprice' => 808.32,
      'oxvat' => 8,
      'amount' => 481,
    ],
    6 =>
    [
      'oxid' => 'e86055661258d52425b394993a578',
      'oxprice' => 288.6,
      'oxvat' => 7,
      'amount' => 137,
    ],
    7 =>
    [
      'oxid' => 'a67c7eaf7eb729f64318f1ae863e0',
      'oxprice' => 311.98,
      'oxvat' => 8,
      'amount' => 569,
    ],
    8 =>
    [
      'oxid' => '68691f2352ece44c61d76014905c9',
      'oxprice' => 74.12,
      'oxvat' => 7,
      'amount' => 843,
    ],
    9 =>
    [
      'oxid' => 'cd2bfdd1501b669451e4cd4318221',
      'oxprice' => 252.57,
      'oxvat' => 9,
      'amount' => 626,
    ],
    10 =>
    [
      'oxid' => 'ee187f4ad35fe4dd9af48268de625',
      'oxprice' => 654.68,
      'oxvat' => 9,
      'amount' => 14,
    ],
    11 =>
    [
      'oxid' => '0241ed252554098c7247ff15458e4',
      'oxprice' => 655.29,
      'oxvat' => 7,
      'amount' => 500,
    ],
    12 =>
    [
      'oxid' => '331cc406c480a63f632a71a1dbec2',
      'oxprice' => 171.25,
      'oxvat' => 8,
      'amount' => 315,
    ],
    13 =>
    [
      'oxid' => '324de355e0ce9a0f62dcc9a1e5ea8',
      'oxprice' => 978.12,
      'oxvat' => 9,
      'amount' => 181,
    ],
    14 =>
    [
      'oxid' => 'ff518d34a270e81ad911b4f941f8b',
      'oxprice' => 437.02,
      'oxvat' => 7,
      'amount' => 214,
    ],
  ],
  'discounts' =>
  [
    0 =>
    [
      'oxaddsum' => 4,
      'oxid' => 'bombDiscount_0',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    1 =>
    [
      'oxaddsum' => 4,
      'oxid' => 'bombDiscount_1',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    2 =>
    [
      'oxaddsum' => 11,
      'oxid' => 'bombDiscount_2',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    3 =>
    [
      'oxaddsum' => 5,
      'oxid' => 'bombDiscount_3',
      'oxaddsumtype' => 'abs',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    4 =>
    [
      'oxaddsum' => 10,
      'oxid' => 'bombDiscount_4',
      'oxaddsumtype' => 'abs',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
  ],
  'costs' =>
  [
    'wrapping' =>
    [
      0 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 1,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => 'baaa3a3210ac09baec4896722c270',
          1 => '7d9f4c226704162740924e4a36d80',
          2 => '8c8d3f5245bdab8baab1953a532e7',
          3 => 'b59f8ee6790b7a44fd0acf7efc57f',
          4 => 'afa0f60b6ab910eca3d95b6999c1d',
        ],
      ],
      1 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 25,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => 'baaa3a3210ac09baec4896722c270',
          1 => '7d9f4c226704162740924e4a36d80',
          2 => '8c8d3f5245bdab8baab1953a532e7',
          3 => 'b59f8ee6790b7a44fd0acf7efc57f',
          4 => 'afa0f60b6ab910eca3d95b6999c1d',
        ],
      ],
      2 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 91,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => 'baaa3a3210ac09baec4896722c270',
          1 => '7d9f4c226704162740924e4a36d80',
          2 => '8c8d3f5245bdab8baab1953a532e7',
          3 => 'b59f8ee6790b7a44fd0acf7efc57f',
          4 => 'afa0f60b6ab910eca3d95b6999c1d',
        ],
      ],
    ],
    'payment' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 67,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      1 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 13,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      2 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 78,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
    ],
    'delivery' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 8,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      1 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 7,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      2 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 83,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
    ],
  ],
  'options' =>
  [
    'config' =>
    [
      'blEnterNetPrice' => false,
      'blShowNetPrice' => false,
    ],
    'activeCurrencyRate' => 1,
  ],
  'expected' =>
  [
    'articles' =>
    [
      'baaa3a3210ac09baec4896722c270' =>
      [
        0 => '283,34',
        1 => '11.900,28',
      ],
      '7d9f4c226704162740924e4a36d80' =>
      [
        0 => '422,44',
        1 => '254.731,32',
      ],
      '8c8d3f5245bdab8baab1953a532e7' =>
      [
        0 => '405,46',
        1 => '214.082,88',
      ],
      'b59f8ee6790b7a44fd0acf7efc57f' =>
      [
        0 => '670,36',
        1 => '393.501,32',
      ],
      'afa0f60b6ab910eca3d95b6999c1d' =>
      [
        0 => '284,06',
        1 => '241.735,06',
      ],
      'da844188611d0718624b491138a5b' =>
      [
        0 => '808,32',
        1 => '388.801,92',
      ],
      'e86055661258d52425b394993a578' =>
      [
        0 => '288,60',
        1 => '39.538,20',
      ],
      'a67c7eaf7eb729f64318f1ae863e0' =>
      [
        0 => '311,98',
        1 => '177.516,62',
      ],
      '68691f2352ece44c61d76014905c9' =>
      [
        0 => '74,12',
        1 => '62.483,16',
      ],
      'cd2bfdd1501b669451e4cd4318221' =>
      [
        0 => '252,57',
        1 => '158.108,82',
      ],
      'ee187f4ad35fe4dd9af48268de625' =>
      [
        0 => '654,68',
        1 => '9.165,52',
      ],
      '0241ed252554098c7247ff15458e4' =>
      [
        0 => '655,29',
        1 => '327.645,00',
      ],
      '331cc406c480a63f632a71a1dbec2' =>
      [
        0 => '171,25',
        1 => '53.943,75',
      ],
      '324de355e0ce9a0f62dcc9a1e5ea8' =>
      [
        0 => '978,12',
        1 => '177.039,72',
      ],
      'ff518d34a270e81ad911b4f941f8b' =>
      [
        0 => '437,02',
        1 => '93.522,28',
      ],
    ],
    'totals' =>
    [
      'discounts' =>
      [
        'bombDiscount_0' => '104.148,63',
        'bombDiscount_1' => '99.982,69',
        'bombDiscount_2' => '263.954,30',
        'bombDiscount_3' => '5,00',
        'bombDiscount_4' => '10,00',
      ],
      'vats' =>
      [
        8 => '38.408,24',
        7 => '62.857,46',
        9 => '54.188,49',
      ],
      'wrapping' =>
      [
        'brutto' => '237.601,00',
        'netto' => false,
        'vat' => false,
      ],
      'delivery' =>
      [
        'brutto' => '208.387,27',
        'netto' => '194.754,46',
        'vat' => '13.632,81',
      ],
      'payment' =>
      [
        'brutto' => '1.570.481,68',
        'netto' => '1.467.739,89',
        'vat' => '102.741,79',
      ],
      'voucher' =>
      [
        'brutto' => '0,00',
      ],
      'totalNetto' => '1.980.161,04',
      'totalBrutto' => '2.603.715,85',
      'grandTotal' => '4.152.085,18',
    ],
  ],
];
