<?php

$aData = [
  'user' =>
  [
    'oxactive' => 1,
    'oxusername' => 'databomb_user_10',
  ],
  'articles' =>
  [
    0 =>
    [
      'oxid' => '1b6d70249ea5182c4e07327a07598',
      'oxprice' => 654.12,
      'oxvat' => 35,
      'amount' => 822,
    ],
    1 =>
    [
      'oxid' => '233ab5fb2819b16a451583247058c',
      'oxprice' => 26.37,
      'oxvat' => 35,
      'amount' => 152,
    ],
    2 =>
    [
      'oxid' => 'a668a1c25ac1c19479dbcd39abb46',
      'oxprice' => 360.76,
      'oxvat' => 35,
      'amount' => 755,
    ],
    3 =>
    [
      'oxid' => '9b7075e99e701f8a000c076ed8d31',
      'oxprice' => 830.74,
      'oxvat' => 35,
      'amount' => 960,
    ],
    4 =>
    [
      'oxid' => '64fa94b3fc925259fdf084d80db4e',
      'oxprice' => 514.4,
      'oxvat' => 35,
      'amount' => 284,
    ],
    5 =>
    [
      'oxid' => 'ca58b1c44f32db0f29dbfc16fc809',
      'oxprice' => 746.74,
      'oxvat' => 35,
      'amount' => 462,
    ],
    6 =>
    [
      'oxid' => '40bc75d2aafa6f592e41fb7f1c866',
      'oxprice' => 744.74,
      'oxvat' => 35,
      'amount' => 914,
    ],
    7 =>
    [
      'oxid' => '21a098130b7854b770ba295d919a5',
      'oxprice' => 993.08,
      'oxvat' => 35,
      'amount' => 86,
    ],
    8 =>
    [
      'oxid' => '35974363b3532a7f919cdb53b99d1',
      'oxprice' => 622.31,
      'oxvat' => 35,
      'amount' => 269,
    ],
    9 =>
    [
      'oxid' => '093a01d53cb2bbb120cff07ab0e7c',
      'oxprice' => 626.9,
      'oxvat' => 35,
      'amount' => 122,
    ],
    10 =>
    [
      'oxid' => 'a09a7988f238a471b49e6eb3589bc',
      'oxprice' => 35.25,
      'oxvat' => 35,
      'amount' => 542,
    ],
    11 =>
    [
      'oxid' => 'ba0fb976b73fbc096f57fd68a1c7e',
      'oxprice' => 398.9,
      'oxvat' => 35,
      'amount' => 856,
    ],
    12 =>
    [
      'oxid' => '83d92cd6062324ada98466a0b8a6b',
      'oxprice' => 154.69,
      'oxvat' => 35,
      'amount' => 284,
    ],
    13 =>
    [
      'oxid' => '48277f77e806148a04499b78d122a',
      'oxprice' => 940.76,
      'oxvat' => 35,
      'amount' => 241,
    ],
    14 =>
    [
      'oxid' => 'cad3a8266461dc46691c0174f4eeb',
      'oxprice' => 546.27,
      'oxvat' => 35,
      'amount' => 688,
    ],
    15 =>
    [
      'oxid' => '3f9fa93092cd1d3ac6264997eaf42',
      'oxprice' => 383.59,
      'oxvat' => 35,
      'amount' => 97,
    ],
    16 =>
    [
      'oxid' => '3645a1ba4c0780d8c25278ce1285b',
      'oxprice' => 201.84,
      'oxvat' => 35,
      'amount' => 457,
    ],
  ],
  'discounts' =>
  [
    0 =>
    [
      'oxaddsum' => 5,
      'oxid' => 'bombDiscount_0',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    1 =>
    [
      'oxaddsum' => 3,
      'oxid' => 'bombDiscount_1',
      'oxaddsumtype' => 'abs',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    2 =>
    [
      'oxaddsum' => 1,
      'oxid' => 'bombDiscount_2',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    3 =>
    [
      'oxaddsum' => 2,
      'oxid' => 'bombDiscount_3',
      'oxaddsumtype' => '%',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
    4 =>
    [
      'oxaddsum' => 7,
      'oxid' => 'bombDiscount_4',
      'oxaddsumtype' => 'abs',
      'oxamount' => 1,
      'oxamountto' => 9999999,
      'oxprice' => 1,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
    ],
  ],
  'costs' =>
  [
    'wrapping' =>
    [
      0 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 53,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '1b6d70249ea5182c4e07327a07598',
          1 => '233ab5fb2819b16a451583247058c',
          2 => 'a668a1c25ac1c19479dbcd39abb46',
          3 => '9b7075e99e701f8a000c076ed8d31',
          4 => '64fa94b3fc925259fdf084d80db4e',
        ],
      ],
      1 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 92,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '1b6d70249ea5182c4e07327a07598',
          1 => '233ab5fb2819b16a451583247058c',
          2 => 'a668a1c25ac1c19479dbcd39abb46',
          3 => '9b7075e99e701f8a000c076ed8d31',
          4 => '64fa94b3fc925259fdf084d80db4e',
        ],
      ],
      2 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 44,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '1b6d70249ea5182c4e07327a07598',
          1 => '233ab5fb2819b16a451583247058c',
          2 => 'a668a1c25ac1c19479dbcd39abb46',
          3 => '9b7075e99e701f8a000c076ed8d31',
          4 => '64fa94b3fc925259fdf084d80db4e',
        ],
      ],
    ],
    'payment' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 84,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      1 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 43,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      2 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 38,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
    ],
    'delivery' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 48,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      1 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 80,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 58,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
    ],
  ],
  'options' =>
  [
    'config' =>
    [
      'blEnterNetPrice' => false,
      'blShowNetPrice' => false,
    ],
    'activeCurrencyRate' => 1,
  ],
  'expected' =>
  [
    'articles' =>
    [
      '1b6d70249ea5182c4e07327a07598' =>
      [
        0 => '654,12',
        1 => '537.686,64',
      ],
      '233ab5fb2819b16a451583247058c' =>
      [
        0 => '26,37',
        1 => '4.008,24',
      ],
      'a668a1c25ac1c19479dbcd39abb46' =>
      [
        0 => '360,76',
        1 => '272.373,80',
      ],
      '9b7075e99e701f8a000c076ed8d31' =>
      [
        0 => '830,74',
        1 => '797.510,40',
      ],
      '64fa94b3fc925259fdf084d80db4e' =>
      [
        0 => '514,40',
        1 => '146.089,60',
      ],
      'ca58b1c44f32db0f29dbfc16fc809' =>
      [
        0 => '746,74',
        1 => '344.993,88',
      ],
      '40bc75d2aafa6f592e41fb7f1c866' =>
      [
        0 => '744,74',
        1 => '680.692,36',
      ],
      '21a098130b7854b770ba295d919a5' =>
      [
        0 => '993,08',
        1 => '85.404,88',
      ],
      '35974363b3532a7f919cdb53b99d1' =>
      [
        0 => '622,31',
        1 => '167.401,39',
      ],
      '093a01d53cb2bbb120cff07ab0e7c' =>
      [
        0 => '626,90',
        1 => '76.481,80',
      ],
      'a09a7988f238a471b49e6eb3589bc' =>
      [
        0 => '35,25',
        1 => '19.105,50',
      ],
      'ba0fb976b73fbc096f57fd68a1c7e' =>
      [
        0 => '398,90',
        1 => '341.458,40',
      ],
      '83d92cd6062324ada98466a0b8a6b' =>
      [
        0 => '154,69',
        1 => '43.931,96',
      ],
      '48277f77e806148a04499b78d122a' =>
      [
        0 => '940,76',
        1 => '226.723,16',
      ],
      'cad3a8266461dc46691c0174f4eeb' =>
      [
        0 => '546,27',
        1 => '375.833,76',
      ],
      '3f9fa93092cd1d3ac6264997eaf42' =>
      [
        0 => '383,59',
        1 => '37.208,23',
      ],
      '3645a1ba4c0780d8c25278ce1285b' =>
      [
        0 => '201,84',
        1 => '92.240,88',
      ],
    ],
    'totals' =>
    [
      'discounts' =>
      [
        'bombDiscount_0' => '212.457,24',
        'bombDiscount_1' => '3,00',
        'bombDiscount_2' => '40.366,85',
        'bombDiscount_3' => '79.926,36',
        'bombDiscount_4' => '7,00',
      ],
      'vats' =>
      [
        35 => '1.015.358,93',
      ],
      'wrapping' =>
      [
        'brutto' => '130.812,00',
        'netto' => false,
        'vat' => false,
      ],
      'delivery' =>
      [
        'brutto' => '7.903.409,47',
        'netto' => '5.854.377,39',
        'vat' => '2.049.032,08',
      ],
      'payment' =>
      [
        'brutto' => '9.928.626,88',
        'netto' => '7.354.538,43',
        'vat' => '2.574.088,45',
      ],
      'voucher' =>
      [
        'brutto' => '0,00',
      ],
      'totalNetto' => '2.901.025,50',
      'totalBrutto' => '4.249.144,88',
      'grandTotal' => '21.879.232,78',
    ],
  ],
];
