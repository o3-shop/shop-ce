<?php

$aData = [
  'user' =>
  [
    'oxactive' => 1,
    'oxusername' => 'databomb_user_29',
  ],
  'articles' =>
  [
    0 =>
    [
      'oxid' => '62f10b406f7ab1b95252e36a8c983',
      'oxprice' => 711.68,
      'oxvat' => 11,
      'amount' => 407,
    ],
    1 =>
    [
      'oxid' => '5a509d202155da2a16670af851596',
      'oxprice' => 838.94,
      'oxvat' => 11,
      'amount' => 64,
    ],
    2 =>
    [
      'oxid' => 'ad33c4d973cb29e211d8f5877a606',
      'oxprice' => 323.18,
      'oxvat' => 11,
      'amount' => 161,
    ],
    3 =>
    [
      'oxid' => '9f0954648aa9e9c2984737c093349',
      'oxprice' => 791.34,
      'oxvat' => 11,
      'amount' => 758,
    ],
    4 =>
    [
      'oxid' => 'c2a71d1afef4d9c15c4a70c808d7c',
      'oxprice' => 423.97,
      'oxvat' => 11,
      'amount' => 135,
    ],
    5 =>
    [
      'oxid' => '1caf9d6681e2a17dfb1ad3662482d',
      'oxprice' => 111.79,
      'oxvat' => 11,
      'amount' => 417,
    ],
    6 =>
    [
      'oxid' => '8bf34b9fbeedad797feff177b6eee',
      'oxprice' => 505.28,
      'oxvat' => 11,
      'amount' => 663,
    ],
    7 =>
    [
      'oxid' => '6a9057ad3521bbb690f55c0272977',
      'oxprice' => 876.04,
      'oxvat' => 11,
      'amount' => 429,
    ],
  ],
  'discounts' =>
  [
    0 =>
    [
      'oxaddsum' => 3,
      'oxid' => 'bombDiscount_0',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '62f10b406f7ab1b95252e36a8c983',
      ],
    ],
    1 =>
    [
      'oxaddsum' => 11,
      'oxid' => 'bombDiscount_1',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '62f10b406f7ab1b95252e36a8c983',
        1 => '5a509d202155da2a16670af851596',
        2 => 'ad33c4d973cb29e211d8f5877a606',
      ],
    ],
    2 =>
    [
      'oxaddsum' => 5,
      'oxid' => 'bombDiscount_2',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '62f10b406f7ab1b95252e36a8c983',
      ],
    ],
    3 =>
    [
      'oxaddsum' => 11,
      'oxid' => 'bombDiscount_3',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '62f10b406f7ab1b95252e36a8c983',
        1 => '5a509d202155da2a16670af851596',
      ],
    ],
    4 =>
    [
      'oxaddsum' => 1,
      'oxid' => 'bombDiscount_4',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '62f10b406f7ab1b95252e36a8c983',
        1 => '5a509d202155da2a16670af851596',
      ],
    ],
  ],
  'costs' =>
  [
    'wrapping' =>
    [
      0 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 85,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '62f10b406f7ab1b95252e36a8c983',
          1 => '5a509d202155da2a16670af851596',
          2 => 'ad33c4d973cb29e211d8f5877a606',
          3 => '9f0954648aa9e9c2984737c093349',
          4 => 'c2a71d1afef4d9c15c4a70c808d7c',
        ],
      ],
      1 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 49,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '62f10b406f7ab1b95252e36a8c983',
          1 => '5a509d202155da2a16670af851596',
          2 => 'ad33c4d973cb29e211d8f5877a606',
          3 => '9f0954648aa9e9c2984737c093349',
          4 => 'c2a71d1afef4d9c15c4a70c808d7c',
        ],
      ],
      2 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 55,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '62f10b406f7ab1b95252e36a8c983',
          1 => '5a509d202155da2a16670af851596',
          2 => 'ad33c4d973cb29e211d8f5877a606',
          3 => '9f0954648aa9e9c2984737c093349',
          4 => 'c2a71d1afef4d9c15c4a70c808d7c',
        ],
      ],
    ],
    'payment' =>
    [
      0 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 64,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      1 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 69,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 34,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
    ],
    'delivery' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 44,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      1 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 90,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 13,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
    ],
  ],
  'options' =>
  [
    'config' =>
    [
      'blEnterNetPrice' => false,
      'blShowNetPrice' => false,
    ],
    'activeCurrencyRate' => 1,
  ],
  'expected' =>
  [
    'articles' =>
    [
      '62f10b406f7ab1b95252e36a8c983' =>
      [
        0 => '587,19',
        1 => '238.986,33',
      ],
      '5a509d202155da2a16670af851596' =>
      [
        0 => '734,66',
        1 => '47.018,24',
      ],
      'ad33c4d973cb29e211d8f5877a606' =>
      [
        0 => '287,63',
        1 => '46.308,43',
      ],
      '9f0954648aa9e9c2984737c093349' =>
      [
        0 => '791,34',
        1 => '599.835,72',
      ],
      'c2a71d1afef4d9c15c4a70c808d7c' =>
      [
        0 => '423,97',
        1 => '57.235,95',
      ],
      '1caf9d6681e2a17dfb1ad3662482d' =>
      [
        0 => '111,79',
        1 => '46.616,43',
      ],
      '8bf34b9fbeedad797feff177b6eee' =>
      [
        0 => '505,28',
        1 => '335.000,64',
      ],
      '6a9057ad3521bbb690f55c0272977' =>
      [
        0 => '876,04',
        1 => '375.821,16',
      ],
    ],
    'totals' =>
    [
      'vats' =>
      [
        11 => '173.108,58',
      ],
      'wrapping' =>
      [
        'brutto' => '83.875,00',
        'netto' => false,
        'vat' => false,
      ],
      'delivery' =>
      [
        'brutto' => '2.567.829,67',
        'netto' => '2.313.360,06',
        'vat' => '254.469,61',
      ],
      'payment' =>
      [
        'brutto' => '64,00',
        'netto' => '57,66',
        'vat' => '6,34',
      ],
      'voucher' =>
      [
        'brutto' => '0,00',
      ],
      'totalNetto' => '1.573.714,32',
      'totalBrutto' => '1.746.822,90',
      'grandTotal' => '4.398.591,57',
    ],
  ],
];
