<?php

$aData = [
  'user' =>
  [
    'oxactive' => 1,
    'oxusername' => 'nb_sd_databomb_user_21',
  ],
  'articles' =>
  [
    0 =>
    [
      'oxid' => 'edf65d695fba144fada2c3f16b754',
      'oxprice' => 583.74,
      'oxvat' => 3,
      'amount' => 493,
    ],
    1 =>
    [
      'oxid' => '5400af5214eb233bc2882e90ad212',
      'oxprice' => 358.66,
      'oxvat' => 4,
      'amount' => 439,
    ],
    2 =>
    [
      'oxid' => '55328dd19227004d81f1127b56149',
      'oxprice' => 639.82,
      'oxvat' => 4,
      'amount' => 911,
    ],
    3 =>
    [
      'oxid' => '5e0a70266b6604cca731a3f642044',
      'oxprice' => 866.76,
      'oxvat' => 36,
      'amount' => 519,
    ],
    4 =>
    [
      'oxid' => 'ac6e3f753ff7152037e2d2b7c358e',
      'oxprice' => 65.21,
      'oxvat' => 3,
      'amount' => 522,
    ],
    5 =>
    [
      'oxid' => 'ddffd547c21356f635392c20cdf78',
      'oxprice' => 467.18,
      'oxvat' => 3,
      'amount' => 497,
    ],
  ],
  'discounts' =>
  [
    0 =>
    [
      'oxaddsum' => 3,
      'oxid' => 'bombDiscount_0',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => 'edf65d695fba144fada2c3f16b754',
        1 => '5400af5214eb233bc2882e90ad212',
        2 => '55328dd19227004d81f1127b56149',
      ],
    ],
    1 =>
    [
      'oxaddsum' => 2,
      'oxid' => 'bombDiscount_1',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => 'edf65d695fba144fada2c3f16b754',
        1 => '5400af5214eb233bc2882e90ad212',
        2 => '55328dd19227004d81f1127b56149',
        3 => '5e0a70266b6604cca731a3f642044',
      ],
    ],
    2 =>
    [
      'oxaddsum' => 1,
      'oxid' => 'bombDiscount_2',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => 'edf65d695fba144fada2c3f16b754',
        1 => '5400af5214eb233bc2882e90ad212',
        2 => '55328dd19227004d81f1127b56149',
        3 => '5e0a70266b6604cca731a3f642044',
        4 => 'ac6e3f753ff7152037e2d2b7c358e',
      ],
    ],
    3 =>
    [
      'oxaddsum' => 3,
      'oxid' => 'bombDiscount_3',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => 'edf65d695fba144fada2c3f16b754',
      ],
    ],
    4 =>
    [
      'oxaddsum' => 15,
      'oxid' => 'bombDiscount_4',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => 'edf65d695fba144fada2c3f16b754',
        1 => '5400af5214eb233bc2882e90ad212',
        2 => '55328dd19227004d81f1127b56149',
        3 => '5e0a70266b6604cca731a3f642044',
      ],
    ],
  ],
  'costs' =>
  [
    'wrapping' =>
    [
      0 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 41,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => 'edf65d695fba144fada2c3f16b754',
          1 => '5400af5214eb233bc2882e90ad212',
          2 => '55328dd19227004d81f1127b56149',
        ],
      ],
      1 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 26,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => 'edf65d695fba144fada2c3f16b754',
          1 => '5400af5214eb233bc2882e90ad212',
          2 => '55328dd19227004d81f1127b56149',
          3 => '5e0a70266b6604cca731a3f642044',
          4 => 'ac6e3f753ff7152037e2d2b7c358e',
        ],
      ],
      2 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 69,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => 'edf65d695fba144fada2c3f16b754',
          1 => '5400af5214eb233bc2882e90ad212',
        ],
      ],
    ],
    'payment' =>
    [
      0 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 13,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      1 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 24,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 25,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
    ],
    'delivery' =>
    [
      0 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 8,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      1 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 17,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 25,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
    ],
  ],
  'options' =>
  [
    'config' =>
    [
      'blEnterNetPrice' => true,
      'blShowNetPrice' => false,
    ],
    'activeCurrencyRate' => 1,
  ],
  'expected' =>
  [
    'articles' =>
    [
      'edf65d695fba144fada2c3f16b754' =>
      [
        0 => '572,29',
        1 => '282.138,97',
      ],
      '5400af5214eb233bc2882e90ad212' =>
      [
        0 => '349,33',
        1 => '153.355,87',
      ],
      '55328dd19227004d81f1127b56149' =>
      [
        0 => '638,81',
        1 => '581.955,91',
      ],
      '5e0a70266b6604cca731a3f642044' =>
      [
        0 => '1.150,02',
        1 => '596.860,38',
      ],
      'ac6e3f753ff7152037e2d2b7c358e' =>
      [
        0 => '66,50',
        1 => '34.713,00',
      ],
      'ddffd547c21356f635392c20cdf78' =>
      [
        0 => '481,20',
        1 => '239.156,40',
      ],
    ],
    'totals' =>
    [
      'vats' =>
      [
        3 => '16.194,42',
        4 => '28.281,22',
        36 => '157.992,45',
      ],
      'wrapping' =>
      [
        'brutto' => '115.060,00',
        'netto' => false,
        'vat' => false,
      ],
      'delivery' =>
      [
        'brutto' => '793.043,82',
        'netto' => '762.542,13',
        'vat' => '30.501,69',
      ],
      'payment' =>
      [
        'brutto' => '13,00',
        'netto' => '12,50',
        'vat' => '0,50',
      ],
      'voucher' =>
      [
        'brutto' => '0,00',
      ],
      'totalNetto' => '1.685.712,44',
      'totalBrutto' => '1.888.180,53',
      'grandTotal' => '2.796.297,35',
    ],
  ],
];
