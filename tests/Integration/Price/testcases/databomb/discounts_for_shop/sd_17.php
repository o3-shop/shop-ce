<?php

$aData = [
  'user' =>
  [
    'oxactive' => 1,
    'oxusername' => 'databomb_user_17',
  ],
  'articles' =>
  [
    0 =>
    [
      'oxid' => '7f4fabf057dc30cc52ca33ef5a840',
      'oxprice' => 33.62,
      'oxvat' => 21,
      'amount' => 925,
    ],
    1 =>
    [
      'oxid' => 'ce3cf9e8d66879850d16eee8f1974',
      'oxprice' => 422.06,
      'oxvat' => 21,
      'amount' => 644,
    ],
    2 =>
    [
      'oxid' => 'c1ada3af74365162565fcb76de13b',
      'oxprice' => 389.35,
      'oxvat' => 21,
      'amount' => 836,
    ],
    3 =>
    [
      'oxid' => 'b80d9d5b929bcab378c81ae9de1a5',
      'oxprice' => 671.24,
      'oxvat' => 21,
      'amount' => 741,
    ],
    4 =>
    [
      'oxid' => '914d054110301752aa7e444ee5b85',
      'oxprice' => 118.87,
      'oxvat' => 21,
      'amount' => 956,
    ],
    5 =>
    [
      'oxid' => '8b2401eaa6a9179fd674babf39729',
      'oxprice' => 740.4,
      'oxvat' => 21,
      'amount' => 871,
    ],
    6 =>
    [
      'oxid' => 'c859e3bd7cfcd6dab79bd6aeb6c0e',
      'oxprice' => 742.5,
      'oxvat' => 21,
      'amount' => 245,
    ],
    7 =>
    [
      'oxid' => 'a250e034de10cdb33e30135f5500e',
      'oxprice' => 678.36,
      'oxvat' => 21,
      'amount' => 768,
    ],
    8 =>
    [
      'oxid' => '217b75f69621697db7244d285c406',
      'oxprice' => 955.96,
      'oxvat' => 21,
      'amount' => 889,
    ],
    9 =>
    [
      'oxid' => '211f76a601cc015912c0cdc670d89',
      'oxprice' => 228.85,
      'oxvat' => 21,
      'amount' => 938,
    ],
    10 =>
    [
      'oxid' => 'dae18737ccdab2e1e60d21f67d081',
      'oxprice' => 21.84,
      'oxvat' => 21,
      'amount' => 127,
    ],
    11 =>
    [
      'oxid' => '57fd1ec57f9d8929697bc460ac3bc',
      'oxprice' => 311.98,
      'oxvat' => 21,
      'amount' => 994,
    ],
    12 =>
    [
      'oxid' => 'e8edc3e2671c47022817b5a43864b',
      'oxprice' => 304.84,
      'oxvat' => 21,
      'amount' => 266,
    ],
    13 =>
    [
      'oxid' => '2de3230b37340b3cddd1f56d3a328',
      'oxprice' => 591.83,
      'oxvat' => 21,
      'amount' => 522,
    ],
    14 =>
    [
      'oxid' => '58f81c91b4ada5eed64520d77ae54',
      'oxprice' => 213.79,
      'oxvat' => 21,
      'amount' => 580,
    ],
    15 =>
    [
      'oxid' => 'd988509585d08ba784ffa97f10cb2',
      'oxprice' => 102.51,
      'oxvat' => 21,
      'amount' => 310,
    ],
    16 =>
    [
      'oxid' => 'ce20aacda460cc95d96d7d75a2174',
      'oxprice' => 261.97,
      'oxvat' => 21,
      'amount' => 60,
    ],
  ],
  'discounts' =>
  [
    0 =>
    [
      'oxaddsum' => 2,
      'oxid' => 'bombDiscount_0',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '7f4fabf057dc30cc52ca33ef5a840',
        1 => 'ce3cf9e8d66879850d16eee8f1974',
      ],
    ],
    1 =>
    [
      'oxaddsum' => 10,
      'oxid' => 'bombDiscount_1',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '7f4fabf057dc30cc52ca33ef5a840',
      ],
    ],
    2 =>
    [
      'oxaddsum' => 4,
      'oxid' => 'bombDiscount_2',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '7f4fabf057dc30cc52ca33ef5a840',
      ],
    ],
    3 =>
    [
      'oxaddsum' => 1,
      'oxid' => 'bombDiscount_3',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '7f4fabf057dc30cc52ca33ef5a840',
        1 => 'ce3cf9e8d66879850d16eee8f1974',
      ],
    ],
    4 =>
    [
      'oxaddsum' => 11,
      'oxid' => 'bombDiscount_4',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '7f4fabf057dc30cc52ca33ef5a840',
        1 => 'ce3cf9e8d66879850d16eee8f1974',
        2 => 'c1ada3af74365162565fcb76de13b',
      ],
    ],
  ],
  'costs' =>
  [
    'wrapping' =>
    [
      0 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 71,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '7f4fabf057dc30cc52ca33ef5a840',
          1 => 'ce3cf9e8d66879850d16eee8f1974',
          2 => 'c1ada3af74365162565fcb76de13b',
          3 => 'b80d9d5b929bcab378c81ae9de1a5',
          4 => '914d054110301752aa7e444ee5b85',
        ],
      ],
      1 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 34,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '7f4fabf057dc30cc52ca33ef5a840',
          1 => 'ce3cf9e8d66879850d16eee8f1974',
          2 => 'c1ada3af74365162565fcb76de13b',
          3 => 'b80d9d5b929bcab378c81ae9de1a5',
          4 => '914d054110301752aa7e444ee5b85',
        ],
      ],
      2 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 21,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '7f4fabf057dc30cc52ca33ef5a840',
          1 => 'ce3cf9e8d66879850d16eee8f1974',
          2 => 'c1ada3af74365162565fcb76de13b',
          3 => 'b80d9d5b929bcab378c81ae9de1a5',
          4 => '914d054110301752aa7e444ee5b85',
        ],
      ],
    ],
    'payment' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 55,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      1 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 27,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 63,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
    ],
    'delivery' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 21,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      1 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 76,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 46,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
    ],
  ],
  'options' =>
  [
    'config' =>
    [
      'blEnterNetPrice' => false,
      'blShowNetPrice' => false,
    ],
    'activeCurrencyRate' => 1,
  ],
  'expected' =>
  [
    'articles' =>
    [
      '7f4fabf057dc30cc52ca33ef5a840' =>
      [
        0 => '19,41',
        1 => '17.954,25',
      ],
      'ce3cf9e8d66879850d16eee8f1974' =>
      [
        0 => '364,44',
        1 => '234.699,36',
      ],
      'c1ada3af74365162565fcb76de13b' =>
      [
        0 => '346,52',
        1 => '289.690,72',
      ],
      'b80d9d5b929bcab378c81ae9de1a5' =>
      [
        0 => '671,24',
        1 => '497.388,84',
      ],
      '914d054110301752aa7e444ee5b85' =>
      [
        0 => '118,87',
        1 => '113.639,72',
      ],
      '8b2401eaa6a9179fd674babf39729' =>
      [
        0 => '740,40',
        1 => '644.888,40',
      ],
      'c859e3bd7cfcd6dab79bd6aeb6c0e' =>
      [
        0 => '742,50',
        1 => '181.912,50',
      ],
      'a250e034de10cdb33e30135f5500e' =>
      [
        0 => '678,36',
        1 => '520.980,48',
      ],
      '217b75f69621697db7244d285c406' =>
      [
        0 => '955,96',
        1 => '849.848,44',
      ],
      '211f76a601cc015912c0cdc670d89' =>
      [
        0 => '228,85',
        1 => '214.661,30',
      ],
      'dae18737ccdab2e1e60d21f67d081' =>
      [
        0 => '21,84',
        1 => '2.773,68',
      ],
      '57fd1ec57f9d8929697bc460ac3bc' =>
      [
        0 => '311,98',
        1 => '310.108,12',
      ],
      'e8edc3e2671c47022817b5a43864b' =>
      [
        0 => '304,84',
        1 => '81.087,44',
      ],
      '2de3230b37340b3cddd1f56d3a328' =>
      [
        0 => '591,83',
        1 => '308.935,26',
      ],
      '58f81c91b4ada5eed64520d77ae54' =>
      [
        0 => '213,79',
        1 => '123.998,20',
      ],
      'd988509585d08ba784ffa97f10cb2' =>
      [
        0 => '102,51',
        1 => '31.778,10',
      ],
      'ce20aacda460cc95d96d7d75a2174' =>
      [
        0 => '261,97',
        1 => '15.718,20',
      ],
    ],
    'totals' =>
    [
      'vats' =>
      [
        21 => '770.589,45',
      ],
      'wrapping' =>
      [
        'brutto' => '86.142,00',
        'netto' => false,
        'vat' => false,
      ],
      'delivery' =>
      [
        'brutto' => '2.974.918,21',
        'netto' => '2.458.610,09',
        'vat' => '516.308,12',
      ],
      'payment' =>
      [
        'brutto' => '4.078.239,67',
        'netto' => '3.370.446,01',
        'vat' => '707.793,66',
      ],
      'voucher' =>
      [
        'brutto' => '0,00',
      ],
      'totalNetto' => '3.669.473,56',
      'totalBrutto' => '4.440.063,01',
      'grandTotal' => '11.579.362,89',
    ],
  ],
];
