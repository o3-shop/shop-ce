<?php

$aData = [
  'user' =>
  [
    'oxactive' => 1,
    'oxusername' => 'databomb_user_27',
  ],
  'articles' =>
  [
    0 =>
    [
      'oxid' => '242bb0af98a40f685bd9c0a9fe518',
      'oxprice' => 83.95,
      'oxvat' => 40,
      'amount' => 354,
    ],
    1 =>
    [
      'oxid' => '99595f0114fbf92bc0b672cc8357e',
      'oxprice' => 925.71,
      'oxvat' => 21,
      'amount' => 649,
    ],
    2 =>
    [
      'oxid' => '16aebe98fe26bb0c6cf24436eaa7c',
      'oxprice' => 339.58,
      'oxvat' => 40,
      'amount' => 795,
    ],
    3 =>
    [
      'oxid' => '624a2c78e88cdcfb9b0d75699ec39',
      'oxprice' => 982.35,
      'oxvat' => 21,
      'amount' => 273,
    ],
    4 =>
    [
      'oxid' => 'd38f2361be7ef2c427db053b3d184',
      'oxprice' => 177.76,
      'oxvat' => 21,
      'amount' => 605,
    ],
    5 =>
    [
      'oxid' => '5d6528a3832c7269df8387428df42',
      'oxprice' => 903.81,
      'oxvat' => 40,
      'amount' => 984,
    ],
    6 =>
    [
      'oxid' => 'afeb298d4d97459fc8b66546d53c2',
      'oxprice' => 99.31,
      'oxvat' => 21,
      'amount' => 504,
    ],
    7 =>
    [
      'oxid' => '197318254956d4e4433ca19ef9ed4',
      'oxprice' => 677.9,
      'oxvat' => 14,
      'amount' => 316,
    ],
    8 =>
    [
      'oxid' => 'bfefb40f58f297a1fad62f11c4497',
      'oxprice' => 189.26,
      'oxvat' => 14,
      'amount' => 1,
    ],
    9 =>
    [
      'oxid' => 'ae909df08c9c1d3b64fb33f1cb6e7',
      'oxprice' => 188.77,
      'oxvat' => 40,
      'amount' => 142,
    ],
    10 =>
    [
      'oxid' => '54a161cc2ba6f004176263f550146',
      'oxprice' => 338.26,
      'oxvat' => 40,
      'amount' => 403,
    ],
    11 =>
    [
      'oxid' => 'd50333cb3a33ebde2fe65c05ced43',
      'oxprice' => 984.06,
      'oxvat' => 21,
      'amount' => 355,
    ],
  ],
  'discounts' =>
  [
    0 =>
    [
      'oxaddsum' => 11,
      'oxid' => 'bombDiscount_0',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '242bb0af98a40f685bd9c0a9fe518',
        1 => '99595f0114fbf92bc0b672cc8357e',
      ],
    ],
    1 =>
    [
      'oxaddsum' => 6,
      'oxid' => 'bombDiscount_1',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '242bb0af98a40f685bd9c0a9fe518',
        1 => '99595f0114fbf92bc0b672cc8357e',
      ],
    ],
    2 =>
    [
      'oxaddsum' => 2,
      'oxid' => 'bombDiscount_2',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '242bb0af98a40f685bd9c0a9fe518',
      ],
    ],
    3 =>
    [
      'oxaddsum' => 5,
      'oxid' => 'bombDiscount_3',
      'oxaddsumtype' => 'abs',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '242bb0af98a40f685bd9c0a9fe518',
        1 => '99595f0114fbf92bc0b672cc8357e',
        2 => '16aebe98fe26bb0c6cf24436eaa7c',
      ],
    ],
    4 =>
    [
      'oxaddsum' => 6,
      'oxid' => 'bombDiscount_4',
      'oxaddsumtype' => '%',
      'oxamount' => 0,
      'oxamountto' => 9999999,
      'oxprice' => 0,
      'oxpriceto' => 9999999,
      'oxactive' => 1,
      'oxarticles' =>
      [
        0 => '242bb0af98a40f685bd9c0a9fe518',
      ],
    ],
  ],
  'costs' =>
  [
    'wrapping' =>
    [
      0 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 59,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '242bb0af98a40f685bd9c0a9fe518',
          1 => '99595f0114fbf92bc0b672cc8357e',
          2 => '16aebe98fe26bb0c6cf24436eaa7c',
          3 => '624a2c78e88cdcfb9b0d75699ec39',
          4 => 'd38f2361be7ef2c427db053b3d184',
        ],
      ],
      1 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 17,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '242bb0af98a40f685bd9c0a9fe518',
          1 => '99595f0114fbf92bc0b672cc8357e',
          2 => '16aebe98fe26bb0c6cf24436eaa7c',
          3 => '624a2c78e88cdcfb9b0d75699ec39',
          4 => 'd38f2361be7ef2c427db053b3d184',
        ],
      ],
      2 =>
      [
        'oxtype' => 'WRAP',
        'oxprice' => 87,
        'oxactive' => 1,
        'oxarticles' =>
        [
          0 => '242bb0af98a40f685bd9c0a9fe518',
          1 => '99595f0114fbf92bc0b672cc8357e',
          2 => '16aebe98fe26bb0c6cf24436eaa7c',
          3 => '624a2c78e88cdcfb9b0d75699ec39',
          4 => 'd38f2361be7ef2c427db053b3d184',
        ],
      ],
    ],
    'payment' =>
    [
      0 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 94,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      1 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 89,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
      2 =>
      [
        'oxaddsumtype' => 'abs',
        'oxaddsum' => 41,
        'oxactive' => 1,
        'oxchecked' => 1,
        'oxfromamount' => 0,
        'oxtoamount' => 1000000,
      ],
    ],
    'delivery' =>
    [
      0 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 53,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      1 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 73,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
      2 =>
      [
        'oxaddsumtype' => '%',
        'oxaddsum' => 86,
        'oxactive' => 1,
        'oxdeltype' => 'p',
        'oxfinalize' => 0,
        'oxparam' => 0,
        'oxparamend' => 999999999,
        'oxfixed' => 0,
      ],
    ],
  ],
  'options' =>
  [
    'config' =>
    [
      'blEnterNetPrice' => false,
      'blShowNetPrice' => false,
    ],
    'activeCurrencyRate' => 1,
  ],
  'expected' =>
  [
    'articles' =>
    [
      '242bb0af98a40f685bd9c0a9fe518' =>
      [
        0 => '57,88',
        1 => '20.489,52',
      ],
      '99595f0114fbf92bc0b672cc8357e' =>
      [
        0 => '854,83',
        1 => '554.784,67',
      ],
      '16aebe98fe26bb0c6cf24436eaa7c' =>
      [
        0 => '334,58',
        1 => '265.991,10',
      ],
      '624a2c78e88cdcfb9b0d75699ec39' =>
      [
        0 => '982,35',
        1 => '268.181,55',
      ],
      'd38f2361be7ef2c427db053b3d184' =>
      [
        0 => '177,76',
        1 => '107.544,80',
      ],
      '5d6528a3832c7269df8387428df42' =>
      [
        0 => '903,81',
        1 => '889.349,04',
      ],
      'afeb298d4d97459fc8b66546d53c2' =>
      [
        0 => '99,31',
        1 => '50.052,24',
      ],
      '197318254956d4e4433ca19ef9ed4' =>
      [
        0 => '677,90',
        1 => '214.216,40',
      ],
      'bfefb40f58f297a1fad62f11c4497' =>
      [
        0 => '189,26',
        1 => '189,26',
      ],
      'ae909df08c9c1d3b64fb33f1cb6e7' =>
      [
        0 => '188,77',
        1 => '26.805,34',
      ],
      '54a161cc2ba6f004176263f550146' =>
      [
        0 => '338,26',
        1 => '136.318,78',
      ],
      'd50333cb3a33ebde2fe65c05ced43' =>
      [
        0 => '984,06',
        1 => '349.341,30',
      ],
    ],
    'totals' =>
    [
      'vats' =>
      [
        40 => '382.558,22',
        21 => '230.809,88',
        14 => '26.330,52',
      ],
      'wrapping' =>
      [
        'brutto' => '232.812,00',
        'netto' => false,
        'vat' => false,
      ],
      'delivery' =>
      [
        'brutto' => '6.112.519,68',
        'netto' => '4.366.085,49',
        'vat' => '1.746.434,19',
      ],
      'payment' =>
      [
        'brutto' => '94,00',
        'netto' => '67,14',
        'vat' => '26,86',
      ],
      'voucher' =>
      [
        'brutto' => '0,00',
      ],
      'totalNetto' => '2.243.565,38',
      'totalBrutto' => '2.883.264,00',
      'grandTotal' => '9.228.689,68',
    ],
  ],
];
